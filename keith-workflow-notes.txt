

######### HOLY SHIT IT WORKS #############

wow, so this is the flow as I understand it, writing down before i go to
 sleep:

1. Take photos of the book with ipone
2. upload to google drive in a child folder to ebay-upload-pics
3. name the folder to align with the book
4. sync grive-... dir to google drive with rclone tp gdrive-ebay-images
5. move the photos still in directory form to batch-image-sets
6. run batch_book_agent_runner.py, it will pull from each directory and 
    generate JSONs for each, putting them in batch-json-results

7. run append_json_queue_to_excel.py, this goes through dir batch-json-results
and inserts book details into ebay-auto-listings.xlsx, using the row format
expected by ebay. It should default to the NEXT line in ebay-auto-listings.xlsx. 

 ###### work to be done here ###
 -price is currently not filled in, agent should do this
 -agent is pulling JSON fields because I asked it to, causes issues (non-tech)
during append, be more specific and structure NULLs to undesired fields.
-agents system prompt should be expanded
- I think this can be optimized via a persistent/stateful agent so same
Agent() stucture does not need to be pushed through the api each time. 
#########

8. run rename_and_upload.py; this goes through directory in batch-image-sets
child by child and renames the jps to <directory>-01.jpg etc, then uploads
them to aws s3 bucket, and gets the url's for each jpg as a return.
###### don't forget the -- double flags
eg python rename_and_upload_images.py --bucket keith-ebay-images --prefix ebay-upload-pics

9. these urls are then written to an updated_urls.txt file in each child
directory of batch-image-sets. these are pipe delimited and can be copied
and pasted, but need to get these automatically put into the JSON

to do:
-for now rewrite book-id-agent.yaml. Need better system prompt, change 
expected output fields, ask for pricing advice, etc... maybe include
the appraising/book collector notes I fed gpt once upon a time?

-get image flow down.
-DO start to worry about errant file overwrites
-DO have a soup to nuts script that: calls agent, renames JSONS,
feeds to appender, moves processed JSONs somewhere else, sends images
to aws ###actually this should happend before appenders, should be diff
py script that does JUST this###